/*! cpmui 01-12-2015 */
!function(a){a.cpm={}}(window.vw=window.vw||{}),function(a){a.cpm.CLI=function(b,c){this.options=c,this.view=new a.cpm.CLIView(this,b)},a.cpm.CLI.prototype.init=function(){},a.cpm.CLI.prototype.request=function(b){var c=this;if("test"!=b)$.ajax({type:"POST",data:{cmd:b},url:c.options.cpmbaseurl+"/rest/cmd",dataType:"html",success:function(a,b,d){c.view.createPanel(a),console.log(a)},error:function(){}});else{var d=this.view.createPanel();new a.cpm.Module(this,d,{name:"pipeline-test"})}}}(window.vw=window.vw||{}),function(a){a.cpm.utils={},a.cpm.utils.guids=[],a.cpm.utils.guid=function(){function b(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}for(var c=b()+b()+"-"+b()+"-"+b()+"-"+b()+"-"+b()+b()+b();-1!=a.cpm.utils.guids.indexOf(c);)c=b()+b()+"-"+b()+"-"+b()+"-"+b()+"-"+b()+b()+b();return a.cpm.utils.guids.push(c),c}}(window.vw=window.vw||{}),function(a){a.cpm.Module=function(b,c,d){this.options=d,this.app=b,this.view=new a.cpm.ModuleView(this,c)},a.cpm.Module.prototype.init=function(){},a.cpm.Module.prototype.request=function(a){}}(window.vw=window.vw||{}),function(a){a.cpm.Result=function(){}}(window.vw=window.vw||{}),function(a){a.cpm.CLIView=function(a,b){this.$el=b,this.el=b[0],this.model=a,this.init()},a.cpm.CLIView.prototype.init=function(){var a=this;$("#cmd-bar-container").perfectScrollbar({suppressScrollX:!0}),this.contentpanel=$("#active-content"),this.cmdbar=$("#cmdbar").cmd({prompt:"$",width:"100%",commands:function(b){console.log(b),console.log(this),a.model.request(b)}}),jQuery("#menu").click(function(){a.toggleCLI(!1),jQuery("#main.menu-open").switchClass("menu-open","menu-closed"),jQuery("#main.menu-closed").switchClass("menu-closed","menu-open")}),jQuery("#active-content").on("click",function(){a.toggleCLI(!1)}),jQuery("#cmd-bar-container").on("click",function(){a.toggleCLI(!0)})},a.cpm.CLIView.prototype.toggleCLI=function(a){"undefined"!=a?a?this.cmdbar.isenabled()||this.cmdbar.enable():this.cmdbar.isenabled()&&this.cmdbar.disable():this.cmdbar.isenabled()?this.cmdbar.disable():this.cmdbar.enable()},a.cpm.CLIView.prototype.createPanel=function(){var a='<div class="frame"></div>',b=$(a);return this.contentpanel.append(b),b}}(window.vw=window.vw||{}),function(a){a.cpm.ModuleView=function(b,c){this.id=a.cpm.utils.guid(),this.$el=c||$("<div></div>"),this.el=this.$el[0],this.model=b,this.init()},a.cpm.ModuleView.prototype.init=function(){var a=this;this.$el.append('<div id="'+this.id+'"></div>');var b=new draw2d.Canvas(a.id),c=new draw2d.shape.basic.Rectangle;b.add(c,100,10)}}(window.vw=window.vw||{}),function(a){a.cpm.ResultView=function(a,b){this.$el=b,this.el=b[0],this.model=a}}(window.vw=window.vw||{});